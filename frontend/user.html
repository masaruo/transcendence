<div id="error-message"></div>
    <form id="login-form">
        <div>
            <label for="email">email:</label>
            <input type="text" id="email" name="email" required>
        </div>

        <div>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
        </div>
        <button type="submit" id="login-button">Login</button>
    </form><br>

	<br>

	<script>
		<!-- login -->
		document.getElementById("login-form").addEventListener("submit", async function(e){
			e.preventDefault();
			const email = document.getElementById('email').value;
			const password = document.getElementById("password").value;
			const loginButton = document.getElementById("login-button");
			const errorMessage = document.getElementById("error-message");

			errorMessage.textContent = '';
			loginButton.disabled = true;
			loginButton.textContent = "logging in ....";

			try {
				const response = await fetch('http://localhost:8000/api/token/', {
					method: "POST",
					headers: {
						"Content-Type": "application/json",
					},
					body: JSON.stringify({email, password})
				});
				const data = await response.json();

				if (data.access && data.refresh) {
					localStorage.setItem('token', data.access);
					<!-- window.location.href = '/dashboard'; -->
				} else {
					errorMessage.textContent = data.message || "login failed";
				}
			} catch (error) {
				errorMessage.textContent = 'Login failed. Please try again.';
                console.error('Login error:', error);
			} finally {
				loginButton.disabled = false;
				loginButton.textContent = 'login';
			}
		});
	</script>
